<div class="list-users"><div class="row">		<div class="col-md-12">							{if $success_msg}				<div class="alert alert-success" role="alert">			    	{$success_msg}				</div>			{/if}					</div></div><div class="row">	<div class="col-md-12">		<div class="panel panel-white">    		    		<div class="panel-body">   		   		       			<div class="row">								<div class="col-md-2">               			<select class="form-control" name="userRole" id="userRole" onchange="getRoleData()" >               				<option value="0">Select User Role</option>               				{html_options options=$userRoles selected=$userRole}               			</select>               		</div>               		<div class="col-md-2 pull-right">               	  		<button class="btn btn-success btn-addon pull-right" type="button" name="add" onclick="add();"><i class="fa fa-plus"></i> Add New User</button>           			             		 </div>                </div>              				               	    </div>    	</div>  				</div></div><div class="row">		<div class="col-md-12">			<div class="panel panel-white">							<div class="panel-body">					<div class="table-responsive">					    <table class="display" id="users_list">					      <thead>										            <tr>												<th>ID</th>									<th>Username</th>									<th>First Name</th>									<th>Last Name</th>									<th>Email</th>												<th>User Role</th>												<th>Action</th>					            </tr>					        </thead>					        <tbody>					        	<tr><td style="padding:20px 0px"></td></tr>					        </tbody>					        <tfoot>							            <tr>					                <th>ID</th>									<th>Username</th>									<th>First Name</th>									<th>Last Name</th>									<th>Email</th>													<th>User Role</th>												<th>Action</th>					           </tr>					        </tfoot>					    </table>   					</div>				</div>			</div>		</div>       	</div> </div>{literal}<script language="javascript" type="text/javascript">var	userRole =  jQuery("#userRole").val();function add(){	window.location="/admin/users/add";	}function del(id){	if(window.confirm("Are you sure you want to delete this user?"))	{		jQuery.post('/admin/users/delete',{"id": id}, function(data, textStatus){			if(textStatus == "success")			{				if(parseInt(data.status)==1)				{					//redraw datatables					usersTable.draw();										alert(data.message);				}				else				{					alert(data.message);				}			}			else			{				alert("Unable to complete the request");			}							},"json");			}	else	{		return false;	}	}	function getRoleData() {		userRole = jQuery("#userRole").val();		if (userRole != '' && userRole != '0') {			window.location = "/admin/users/index/userrole/" + userRole;		} else {			window.location = "/admin/users/";		}	}	var usersTable;function loadTableData(){		usersTable = jQuery('#users_list').DataTable(			{				"paging": true,	            "pagingType": "full_numbers",	            "dom": '<"dataTables-header""H"<"toolbar col-md-6 no-p-l"><"col-md-6 no-p-r"f><"top-pagination"p<"top-length"li>>>t<"dataTables-footer""F"ip>',           	            "stateSave": true,	            "stateSaveCallback": stateSaveCallback,	            "stateLoadCallback":stateLoadCallback,	            "serverSide": true,	            "processing": false,           	            "scrollX": "100%",			            "pageLength": 100,	            "jQueryUI":false,	            "destroy": true,	            "language": {	                "paginate": {	                  "first": "<i class='fa  fa-fast-backward'></i>",	                  "last": "<i class='fa  fa-fast-forward'></i>",	                  "next": "<i class='fa fa-forward'></i>",	                  "previous": "<i class='fa fa-backward'></i>"	                }	              },				"ajax": "/admin/users/list/userrole/"+userRole,																	"columns": [								{									"data":"userId",									"name":"userId"																	},								{									"data":null,									"name":"username",									"render": function ( data, type, row ) 									 {										return '<a href="/admin/users/edit/id/'+ data.userId +'">'+ data.username +'</a>';									  }																	},								{									"data":"firstName",									"name":"firstName"								},								{									"data":"lastName",									"name":"lastName"								},								{									"data":"email",									"name":"email"								},								{									"data":"role",									"name":"role"								},												 				{				 					"data":null,				 					"sortable":false,				 					"searchable":false,				 					"className": "text-center",				 					"render": function ( data, type, row ) 				 					{				  		   				return '<a href="/admin/users/edit/id/'+ data.userId +'" class="btn btn-success action-btn" title ="Edit"><i class="fa fa-edit"></i></a> '+					 					'<a href="javascript:void(0)" onclick="javascript:del('+ data.userId +')" class="btn btn-danger action-btn" title ="Delete"><i class="fa fa-remove"></i></a>';				  		   			}				  		   		},					  		   							  		   			 				  		   						  		   	],				  		   						"rowCallback":function( row, data, index ) {					if(data.active!='y')					{						jQuery(row).addClass('alert_row');					}					return row; 				}			  		   					});}jQuery(document).ready(function() {	loadTableData();		jQuery("div.toolbar").html('List of all users');});</script>{/literal}